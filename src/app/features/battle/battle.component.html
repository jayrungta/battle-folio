<!-- White flash effect -->
<div class="white-flash" *ngIf="showWhiteFlash"></div>

<div class="battle-screen" 
     [class.transition]="animationState === 'transition'" 
     [class.ready]="animationState === 'ready'">
  
  <!-- Battle Arena (Top Section) -->
  <div class="battle-arena">
    <!-- Opponent Section (Top) -->
    <div class="opponent-section">
      <div class="hp-box">
        <div class="hp-box-content">
          <div class="trainer-name-hp">{{ trainerName }}</div>
          <div class="hp-bar-container">
            <div class="hp-label">HP</div>
            <div class="hp-bar">
              <div class="hp-fill"></div>
            </div>
          </div>
        </div>
      </div>
      <div class="opponent-trainer" 
           [class.animate-entrance]="animationState === 'challenge' || animationState === 'ready'">
        <img [src]="trainerSprite" alt="Trainer" class="trainer-sprite">
      </div>
    </div>
  </div>

  <!-- Battle Message Box (Bottom Section) -->
  <div class="battle-message-box" 
       [class.animate-entrance]="animationState === 'transition' || animationState === 'challenge' || animationState === 'ready'">
    
    <!-- Left Half: Message or Empty Space -->
    <div class="left-section">
      <!-- "Wants to Battle" Message - Only show during challenge phase -->
      <div class="battle-challenge" 
           *ngIf="animationState === 'challenge'">
        <div class="message-text">{{ trainerName }} wants to battle!</div>
        <div class="message-arrow">â–¼</div>
      </div>
    </div>

    <!-- Right Half: Battle Menu -->
    <div class="right-section">
      <div class="battle-menu-container" 
           *ngIf="animationState === 'ready'"
           [class.animate-entrance]="animationState === 'ready'">
        <app-battle-menu 
          [options]="battleOptions" 
          [disabled]="animationState !== 'ready'"
          [animateEntrance]="animationState === 'ready'">
        </app-battle-menu>
      </div>
    </div>
  </div>
</div>
